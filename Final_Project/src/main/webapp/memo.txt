--테이블 인서트 통합
 
DROP TABLE ACCOUNTS CASCADE CONSTRAINTS;
-- 계정 테이블
CREATE TABLE ACCOUNTS( 
   userId VARCHAR2(50) PRIMARY KEY,
   userName VARCHAR2(50) NOT NULL,
   userPw VARCHAR2(50) NOT NULL,
   userBirth VARCHAR2(50) NOT NULL,
   userEmail VARCHAR2(70) NOT NULL UNIQUE,
   userPhone VARCHAR2(50) NOT NULL UNIQUE,
   userPoint NUMBER DEFAULT 0,
   userChkEmail NUMBER DEFAULT 0,
   userChkPhone NUMBER DEFAULT 0,  --동의안함0 동의함1
   userSubscribe NUMBER DEFAULT 0,  --구독안함0 구독함1
   userJoinDate DATE DEFAULT SYSDATE,
   userOut NUMBER DEFAULT 0,  --탈퇴안함0 탈퇴함1
   adminCheck NUMBER DEFAULT 0 -- 관리자 1 일반회원 0
);




insert into accounts(userId ,userName ,userPw ,userBirth ,userEmail ,userPhone  ,userPoint ,userChkEmail ,userChkPhone ,userSubscribe ,userJoinDate ,userOut ,adminCheck )
values('kim','김철수','1234','2002/01/01','kim@gmail.com',01042172177,5000,1,1,1,sysdate,0,1);
insert into accounts(userId ,userName ,userPw ,userBirth ,userEmail ,userPhone  ,userPoint ,userChkEmail ,userChkPhone ,userSubscribe ,userJoinDate ,userOut ,adminCheck )
values('park','박지성','1234','1998/11/11','park@gmail.com',01031651257,2000,1,1,1,sysdate,0,1);
insert into accounts(userId ,userName ,userPw ,userBirth ,userEmail ,userPhone  ,userPoint ,userChkEmail ,userChkPhone ,userSubscribe ,userJoinDate ,userOut ,adminCheck  )
values('son','손흥민','7777','1996/02/22','son@gmail.com',01015123456,3000,1,1,1,sysdate,0,1);
insert into accounts(userId ,userName ,userPw ,userBirth ,userEmail ,userPhone  ,userPoint ,userChkEmail ,userChkPhone ,userSubscribe ,userJoinDate ,userOut ,adminCheck  )
values('kang','강한','1234','1986/08/26','kang@gmail.com',01015323454,3000,1,1,1,sysdate,0,0);
insert into accounts(userId ,userName ,userPw ,userBirth ,userEmail ,userPhone  ,userPoint ,userChkEmail ,userChkPhone ,userSubscribe ,userJoinDate ,userOut ,adminCheck  )
values('jung','정현수','1111','1994/12/02','jung@naver.com',01055553776,6000,1,1,1,sysdate,0,0);





DROP TABLE ADMININFO CASCADE CONSTRAINTS;
--관리자 테이블
CREATE TABLE ADMININFO(
   adminId VARCHAR2(50) PRIMARY KEY,   
   adminPw VARCHAR2(50) NOT NULL
);
insert into ADMININFO(adminId ,adminPw)
values('son','7777');
insert into ADMININFO(adminId ,adminPw)
values('kim','1234');
insert into ADMININFO(adminId ,adminPw)
values('park','1234');


DROP TABLE CATEGORY CASCADE CONSTRAINTS;
--카테고리 테이블
CREATE TABLE CATEGORY(
   categoryCode VARCHAR2(50) PRIMARY KEY,
   categoryName VARCHAR2(50) NOT NULL
);
insert into CATEGORY(categoryCode, categoryName)
values('EIP', '정보처리기사');
insert into CATEGORY(categoryCode, categoryName)
values('EBDA', '빅데이터분석기사');


DROP TABLE COURSE CASCADE CONSTRAINTS;
--강의 테이블
CREATE TABLE COURSE(
   courseCode VARCHAR2(50) PRIMARY KEY,
   categoryCode VARCHAR2(50),
   cousreName VARCHAR2(150) NOT NULL,
   cousrePrice NUMBER NOT NULL,
   cousreTeacher VARCHAR2(50) NOT NULL,
   cousreImg VARCHAR2(50) NOT NULL,
   cousreVideo VARCHAR2(50) NOT NULL,
   cousreTerm NUMBER NOT NULL,
   FOREIGN KEY (categoryCode) REFERENCES category(categoryCode)   
);
--EIP1 EIP2 필기는 1 실기는 2로 임의설정 
insert into COURSE(courseCode, categoryCode, cousreName, cousrePrice, cousreTeacher, cousreImg, cousreVideo, cousreTerm)
values('EIP1', 'EIP', '정보처리기사필기', 50000, 'Teacher 1', 'img1.png', 'video1.mp4', 30);
insert into COURSE(courseCode, categoryCode, cousreName, cousrePrice, cousreTeacher, cousreImg, cousreVideo, cousreTerm)
values('EIP2', 'EIP', '정보처리기사실기', 100000, 'Teacher 1', 'img2.png', 'video2.mp4', 30);
insert into COURSE(courseCode, categoryCode, cousreName, cousrePrice, cousreTeacher, cousreImg, cousreVideo, cousreTerm)
values('EBDA1', 'EBDA', '빅데이터분석기사필기', 70000, 'Teacher 2', 'img3.png', 'video3.mp4', 60);
insert into COURSE(courseCode, categoryCode, cousreName, cousrePrice, cousreTeacher, cousreImg, cousreVideo, cousreTerm)
values('EBDA2', 'EBDA', '빅데이터분석기사실기', 1200000, 'Teacher 2', 'img4.png', 'video4.mp4', 60);


drop sequence CART_seq;
create sequence CART_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;


DROP TABLE CART CASCADE CONSTRAINTS;
--장바구니 테이블
CREATE TABLE CART(
   cartNumber NUMBER PRIMARY KEY,
   courseCode VARCHAR2(50),
   userId VARCHAR2(50),
   FOREIGN KEY (courseCode) REFERENCES COURSE(courseCode),
   FOREIGN KEY (userId) REFERENCES ACCOUNTS(userId)
);
insert into CART(cartNumber, courseCode, userId)
values(CART_seq.nextval, 'EIP1', 'jung');
insert into CART(cartNumber, courseCode, userId)
values(CART_seq.nextval, 'EIP2', 'jung');
insert into CART(cartNumber, courseCode, userId)
values(CART_seq.nextval, 'EBDA1', 'kang');
insert into CART(cartNumber, courseCode, userId)
values(CART_seq.nextval, 'EBDA2', 'kang');


drop sequence WISH_seq;
create sequence WISH_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;


DROP TABLE WISHLIST CASCADE CONSTRAINTS;
--위시리스트 테이블
CREATE TABLE WISHLIST(
   wishNumber NUMBER PRIMARY KEY,
   courseCode VARCHAR2(50),
   userId VARCHAR2(50),
   FOREIGN KEY (courseCode) REFERENCES COURSE(courseCode),
   FOREIGN KEY (userId) REFERENCES ACCOUNTS(userId)
);
insert into WISHLIST(wishNumber, courseCode, userId)
values(WISH_seq.nextval, 'EIP2', 'jung');
insert into WISHLIST(wishNumber, courseCode, userId)
values(WISH_seq.nextval, 'EBDA1', 'kang');


DROP TABLE UNIT CASCADE CONSTRAINTS;
--대단원 테이블
CREATE TABLE UNIT(
   courseCode VARCHAR2(50),
   UNIT1 VARCHAR2(200) NULL,
   UNIT2 VARCHAR2(200) NULL,
   UNIT3 VARCHAR2(200) NULL,
   UNIT4 VARCHAR2(200) NULL,
   UNIT5 VARCHAR2(200) NULL,
   UNIT6 VARCHAR2(200) NULL,
   UNIT7 VARCHAR2(200) NULL,
   UNIT8 VARCHAR2(200) NULL,
   UNIT9 VARCHAR2(200) NULL,
   UNIT10  VARCHAR2(200) NULL,
   FOREIGN KEY (courseCode) REFERENCES COURSE(courseCode)   
);
insert into UNIT(courseCode, UNIT1, UNIT2, UNIT3,UNIT4,UNIT5,UNIT6,UNIT7,UNIT8,UNIT9,UNIT10)
values('EIP1', 'Unit 1', 'Unit 2', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3');
insert into UNIT(courseCode, UNIT1, UNIT2, UNIT3,UNIT4,UNIT5,UNIT6,UNIT7,UNIT8,UNIT9,UNIT10)
values('EIP2', 'Unit A', 'Unit B', 'Unit C', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3', 'Unit 3');



drop sequence REVIEW_seq;
create sequence REVIEW_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
DROP TABLE REVIEW CASCADE CONSTRAINTS;
--수강후기게시판 테이블
CREATE TABLE REVIEW(
   reviewNumber NUMBER PRIMARY KEY,
   courseCode VARCHAR2(50),
   userId VARCHAR2(50),
   reviewTitle VARCHAR2(200) NOT NULL,
   reviewContent VARCHAR2(1000) NOT NULL,
   reviewDate DATE DEFAULT SYSDATE, 
   reviewCount NUMBER NOT NULL,
   reviewView NUMBER DEFAULT 0,
   FOREIGN KEY (courseCode) REFERENCES COURSE(courseCode),   
   FOREIGN KEY (userId) REFERENCES ACCOUNTS(userId)
);
insert into REVIEW(reviewNumber, courseCode, userId, reviewTitle, reviewContent, reviewCount)
values(1, 'EIP1', 'jung', '강의재밌어요', '리뷰 1 입니다.', 10);
insert into REVIEW(reviewNumber, courseCode, userId, reviewTitle, reviewContent, reviewCount)
values(2, 'EBDA1', 'kang', '감사합니다', '리뷰 2 입니다.', 5);



drop sequence courseorder_seq;
create sequence courseorder_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
--주문 테이블
DROP TABLE COURSEORDER CASCADE CONSTRAINTS;
--주문 테이블
CREATE TABLE COURSEORDER(
   orderNumber VARCHAR2(200) PRIMARY KEY,
   courseCode VARCHAR2(50),
   userId VARCHAR2(50),
   FOREIGN KEY (userId) REFERENCES ACCOUNTS(userId),
   orderPoint NUMBER DEFAULT 0,
   totalPrice NUMBER NOT NULL,
   orderDate DATE default TO_DATE(SYSDATE, 'YYYY-MM-DD'),
   FOREIGN KEY (courseCode) REFERENCES COURSE(courseCode)   
);

--COURSEORDER 주문 테이블

insert into COURSEORDER(orderNumber, courseCode, userId, TotalPrice,orderDate)
values(courseorder_seq.nextval, 'EIP1', 'jung', 50000,'2023-06-17');
insert into COURSEORDER(orderNumber, courseCode, userId, TotalPrice,orderDate)
values(courseorder_seq.nextval, 'EBDA1', 'kang', 70000,'2023-06-18');
insert into COURSEORDER(orderNumber, courseCode, userId, TotalPrice,orderDate)
values(courseorder_seq.nextval, 'EBDA1', 'kang', 70000,TO_CHAR(SYSDATE, 'YYYY-MM-DD'));
insert into COURSEORDER(orderNumber, courseCode, userId, TotalPrice,orderDate)
values(courseorder_seq.nextval, 'EBDA1', 'kang', 70000,TO_CHAR(SYSDATE, 'YYYY-MM-DD'));
insert into COURSEORDER(orderNumber, courseCode, userId, TotalPrice,orderDate)
values(courseorder_seq.nextval, 'EBDA1', 'kang', 70000,'2023-06-20');


drop sequence FAQ_seq;
create sequence FAQ_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
DROP TABLE FAQ CASCADE CONSTRAINTS;
--자주묻는질문 테이블
CREATE TABLE FAQ(
   faqNumber NUMBER PRIMARY KEY,
   faqTitle VARCHAR2(500) NOT NULL,
   faqContent VARCHAR2(2000) NOT NULL   
);
insert into FAQ(faqNumber,faqTitle, faqContent)
values(FAQ_seq.NEXTVAL, '강의 수강 절차에 관해 안내드립니다.', '진또배기');
insert into FAQ(faqNumber, faqTitle, faqContent)
values(FAQ_seq.NEXTVAL, '프리패스 상품에 관하여 안내드립니다.', 'This is FAQ 2.');




drop sequence EVENT_seq;
create sequence EVENT_seq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
DROP TABLE EVENT CASCADE CONSTRAINTS;
--이벤트 테이블
CREATE TABLE EVENT(
   eventNumber NUMBER PRIMARY KEY,
   adminId VARCHAR2(50),
   eventTitle VARCHAR2(200) NOT NULL,
   eventContent VARCHAR2(2000) NOT NULL,
   eventImage VARCHAR2(50) NULL,
   eventDate DATE DEFAULT SYSDATE,
   eventView NUMBER DEFAULT 0, 
   eventStart VARCHAR2(50) NOT NULL, 
   eventEnd VARCHAR2(50) NOT NULL,   
   FOREIGN KEY (adminId) REFERENCES ADMININFO(adminId)
);

INSERT INTO EVENT(eventNumber, adminId, eventTitle, eventContent, eventImage, eventDate, eventView, eventStart, eventEnd)
VALUES (1, 'son', '신학기 할인 혜택드립니다.', 'This is event 1.', 'event1.png', SYSDATE, 0, '2023-06-11', '2023-06-13');
INSERT INTO EVENT(eventNumber, adminId, eventTitle, eventContent, eventImage, eventDate, eventView, eventStart, eventEnd)
values(2, 'kim', '신규 강의 등록 이벤트입니다.', 'This is event 2.','event1.png', SYSDATE, 0, '2023-06-02','2023-07-11');

commit;

drop sequence NOTICE_seq;
create sequence NOTICE_seq
  increment by 1
  start with 1 
  minvalue 1
  maxvalue 10000 
  nocache;
  
DROP TABLE NOTICE CASCADE CONSTRAINTS;
--공지사항 테이블
CREATE TABLE NOTICE(
   noticeNumber NUMBER PRIMARY KEY,
   adminId VARCHAR2(50),   
   noticeTitle VARCHAR2(200) NOT NULL,
   noticeContent VARCHAR2(2000) NOT NULL,
   noticeImage VARCHAR2(50) NULL, 
   noticeDate DATE DEFAULT SYSDATE,
   noticeView NUMBER DEFAULT 0,
   FOREIGN KEY (adminId) REFERENCES ADMININFO(adminId)
);
insert into NOTICE(noticeNumber, adminId, noticeTitle, noticeContent,noticeImage,noticeDate,noticeView)
values(1, 'son', '연휴 및 휴무일 안내입니다. ', '공지사항 1입니다.','notice1.png',sysdate,0);
insert into NOTICE(noticeNumber, adminId, noticeTitle, noticeContent,noticeImage,noticeDate,noticeView)
values(2, 'kim', '서버 점검 및 보수 일정 안내드립니다.', 'This is notice 2.','notice2.png',sysdate,0);